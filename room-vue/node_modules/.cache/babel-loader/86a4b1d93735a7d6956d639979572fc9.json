{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Layout from '../views/Layout.vue';\nimport { Message } from \"element-ui\";\nVue.use(VueRouter);\nconst routes = [//  ====== 登录  =====\n{\n  path: '/login',\n  name: 'Login',\n  component: () => import('@/views/login/login.vue')\n}, {\n  path: '/register',\n  name: 'Register',\n  component: () => import('@/views/login/register.vue')\n}, //  ====== 主页  =====\n{\n  path: '/',\n  name: 'Layout',\n  component: Layout,\n  children: [// 子路由\n  //  ====== 管理员  =====\n  {\n    path: 'dashboard',\n    name: 'dashboard',\n    component: () => import('@/views/admin/dashboard.vue')\n  }, {\n    path: 'studyRoom',\n    name: 'studyRoom',\n    component: () => import('@/views/admin/studyRoom.vue')\n  }, {\n    path: 'student',\n    name: 'student',\n    component: () => import('@/views/admin/student.vue')\n  }, {\n    path: 'reservationData',\n    name: 'reservationData',\n    component: () => import('@/views/admin/reservation.vue')\n  }, {\n    path: 'seat',\n    name: 'seat',\n    component: () => import('@/views/admin/seat.vue')\n  }, {\n    path: 'violation',\n    name: 'violation',\n    component: () => import('@/views/admin/violation.vue')\n  }, {\n    path: 'blacklist',\n    name: 'blacklist',\n    component: () => import('@/views/admin/blacklist.vue')\n  }, {\n    path: 'feedbackAdmin',\n    name: 'feedbackAdmin',\n    component: () => import('@/views/admin/feedback.vue')\n  }, //  ====== 学生  =====\n  {\n    path: 'reservationRoom',\n    name: 'reservationRoom',\n    component: () => import('@/views/student/studyRoom.vue')\n  }, {\n    path: 'record',\n    name: 'record',\n    component: () => import('@/views/student/reservation.vue')\n  }, {\n    path: 'info',\n    name: 'info',\n    component: () => import('@/views/student/studentInfo.vue')\n  }, {\n    path: 'feedback',\n    name: 'feedback',\n    component: () => import('@/views/student/feedback.vue')\n  }, {\n    path: 'feedbackList',\n    name: 'feedbackList',\n    component: () => import('@/views/student/feedbackList.vue')\n  }]\n}, {\n  path: \"*\",\n  component: () => import('@/views/404')\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n}); // 路由拦截器\n\nrouter.beforeEach((to, from, next) => {\n  const token = localStorage.getItem('token');\n\n  if (to.path !== '/login' && to.path !== '/register' && !token) {\n    Message.error('登录已过期，请重新登录');\n    next('/login');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Layout","Message","use","routes","path","name","component","children","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","token","localStorage","getItem","error"],"sources":["C:/Users/86138/Desktop/软件/room/room-vue/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Layout from '../views/Layout.vue'\r\nimport {Message} from \"element-ui\";\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n    //  ====== 登录  =====\r\n    {\r\n        path: '/login',\r\n        name: 'Login',\r\n        component: () => import('@/views/login/login.vue'),\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'Register',\r\n        component: () => import('@/views/login/register.vue'),\r\n    },\r\n    //  ====== 主页  =====\r\n    {\r\n        path: '/',\r\n        name: 'Layout',\r\n        component: Layout,\r\n        children: [  // 子路由\r\n            //  ====== 管理员  =====\r\n            {\r\n                path: 'dashboard',\r\n                name: 'dashboard',\r\n                component: () => import('@/views/admin/dashboard.vue'),\r\n            },\r\n            {\r\n                path: 'studyRoom',\r\n                name: 'studyRoom',\r\n                component: () => import('@/views/admin/studyRoom.vue'),\r\n            },\r\n            {\r\n                path: 'student',\r\n                name: 'student',\r\n                component: () => import('@/views/admin/student.vue'),\r\n            },\r\n            {\r\n                path: 'reservationData',\r\n                name: 'reservationData',\r\n                component: () => import('@/views/admin/reservation.vue'),\r\n            },\r\n            {\r\n                path: 'seat',\r\n                name: 'seat',\r\n                component: () => import('@/views/admin/seat.vue'),\r\n            },\r\n            {\r\n                path: 'violation',\r\n                name: 'violation',\r\n                component: () => import('@/views/admin/violation.vue'),\r\n            },\r\n            {\r\n                path: 'blacklist',\r\n                name: 'blacklist',\r\n                component: () => import('@/views/admin/blacklist.vue'),\r\n            },\r\n            {\r\n                path: 'feedbackAdmin',\r\n                name: 'feedbackAdmin',\r\n                component: () => import('@/views/admin/feedback.vue'),\r\n            },\r\n            //  ====== 学生  =====\r\n            {\r\n                path: 'reservationRoom',\r\n                name: 'reservationRoom',\r\n                component: () => import('@/views/student/studyRoom.vue'),\r\n            },\r\n            {\r\n                path: 'record',\r\n                name: 'record',\r\n                component: () => import('@/views/student/reservation.vue'),\r\n            },\r\n            {\r\n                path: 'info',\r\n                name: 'info',\r\n                component: () => import('@/views/student/studentInfo.vue'),\r\n            },\r\n            {\r\n                path: 'feedback',\r\n                name: 'feedback',\r\n                component: () => import('@/views/student/feedback.vue'),\r\n            },\r\n            {\r\n                path: 'feedbackList',\r\n                name: 'feedbackList',\r\n                component: () => import('@/views/student/feedbackList.vue'),\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        path: \"*\",\r\n        component: () => import('@/views/404')\r\n    }\r\n]\r\n\r\nconst router = new VueRouter({\r\n    mode: 'history',\r\n    base: process.env.BASE_URL,\r\n    routes\r\n})\r\n\r\n// 路由拦截器\r\nrouter.beforeEach((to, from, next) => {\r\n    const token = localStorage.getItem('token');\r\n    if ((to.path !== '/login' && to.path !== '/register') && !token) {\r\n        Message.error('登录已过期，请重新登录')\r\n        next('/login');\r\n    } else {\r\n        next();\r\n    }\r\n});\r\n\r\nexport default router\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}