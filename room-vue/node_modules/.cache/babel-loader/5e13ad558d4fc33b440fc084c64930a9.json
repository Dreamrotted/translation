{"ast":null,"code":"import request from \"@/utils/request\";\nexport default {\n  data() {\n    return {\n      dataList: [],\n      current: 1,\n      pageSize: 10,\n      totalPage: 0,\n      dataListLoading: false,\n      searchForm: {\n        roomId: null,\n        seatNumber: ''\n      },\n      roomList: [],\n      // 自习室列表\n      dialogVisible: false,\n      dialogTitle: '',\n      form: {\n        id: null,\n        roomId: null,\n        seatNumber: '',\n        seatType: '普通座位',\n        status: 0\n      },\n      rules: {\n        roomId: [{\n          required: true,\n          message: '请选择自习室',\n          trigger: 'change'\n        }],\n        seatNumber: [{\n          required: true,\n          message: '请输入座位编号',\n          trigger: 'blur'\n        }],\n        seatType: [{\n          required: true,\n          message: '请选择座位类型',\n          trigger: 'change'\n        }],\n        status: [{\n          required: true,\n          message: '请选择状态',\n          trigger: 'change'\n        }]\n      },\n      batchDialogVisible: false,\n      batchForm: {\n        roomId: null,\n        count: 10,\n        prefix: '',\n        seatType: '普通座位'\n      },\n      batchRules: {\n        roomId: [{\n          required: true,\n          message: '请选择自习室',\n          trigger: 'change'\n        }],\n        count: [{\n          required: true,\n          message: '请输入生成数量',\n          trigger: 'blur'\n        }],\n        seatType: [{\n          required: true,\n          message: '请选择座位类型',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n\n  methods: {\n    // 获取表格数据\n    getDataList() {\n      this.dataListLoading = true;\n      request.get('seat/page', {\n        params: {\n          pageNum: this.current,\n          pageSize: this.pageSize,\n          roomId: this.searchForm.roomId,\n          seatNumber: this.searchForm.seatNumber\n        }\n      }).then(resp => {\n        if (resp.code === 200) {\n          this.dataList = resp.data.list;\n          this.totalPage = resp.data.total;\n        } else {\n          this.dataList = [];\n        }\n\n        this.dataListLoading = false;\n      });\n    },\n\n    // 获取自习室列表\n    getRoomList() {\n      request.get('studyRooms/page', {\n        params: {\n          pageNum: 1,\n          pageSize: 999\n        }\n      }).then(resp => {\n        if (resp.code === 200) {\n          this.roomList = resp.data.list;\n        }\n      });\n    },\n\n    // 重置搜索\n    resetSearch() {\n      this.searchForm = {\n        roomId: null,\n        seatNumber: ''\n      };\n      this.current = 1;\n      this.getDataList();\n    },\n\n    // 新增\n    handleAdd() {\n      this.dialogTitle = '新增座位';\n      this.dialogVisible = true;\n      this.resetForm();\n    },\n\n    // 编辑\n    handleEdit(row) {\n      this.dialogTitle = '编辑座位';\n      this.dialogVisible = true;\n      this.form = { ...row\n      };\n    },\n\n    // 删除\n    handleDelete(id) {\n      this.$confirm('此操作将永久删除该座位, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        request.delete(\"/seat/delete/\" + id).then(res => {\n          if (res.code === 200) {\n            this.$notify.success('删除成功');\n            this.getDataList();\n          } else {\n            this.$notify.error(res.message);\n          }\n        });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n\n    // 提交表单\n    submitForm() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.form.id) {\n            // 编辑\n            request.put(\"/seat/update\", this.form).then(res => {\n              if (res.code === 200) {\n                this.$notify.success('修改成功');\n                this.dialogVisible = false;\n                this.getDataList();\n              } else {\n                this.$notify.error(res.message);\n              }\n            });\n          } else {\n            // 新增\n            request.post(\"/seat/add\", this.form).then(res => {\n              if (res.code === 200) {\n                this.$notify.success('新增成功');\n                this.dialogVisible = false;\n                this.getDataList();\n              } else {\n                this.$notify.error(res.message);\n              }\n            });\n          }\n        }\n      });\n    },\n\n    // 批量生成\n    handleBatchGenerate() {\n      this.batchDialogVisible = true;\n      this.resetBatchForm();\n    },\n\n    // 提交批量生成\n    submitBatchForm() {\n      this.$refs.batchForm.validate(valid => {\n        if (valid) {\n          request.post(\"/seat/batchGenerate\", this.batchForm).then(res => {\n            if (res.code === 200) {\n              this.$notify.success('批量生成成功');\n              this.batchDialogVisible = false;\n              this.getDataList();\n            } else {\n              this.$notify.error(res.message);\n            }\n          });\n        }\n      });\n    },\n\n    // 重置表单\n    resetForm() {\n      this.form = {\n        id: null,\n        roomId: null,\n        seatNumber: '',\n        seatType: '普通座位',\n        status: 0\n      };\n    },\n\n    // 重置批量生成表单\n    resetBatchForm() {\n      this.batchForm = {\n        roomId: null,\n        count: 10,\n        prefix: '',\n        seatType: '普通座位'\n      };\n    },\n\n    // 分页大小变化\n    sizeChangeHandle(val) {\n      this.pageSize = val;\n      this.current = 1;\n      this.getDataList();\n    },\n\n    // 当前页码变化\n    currentChangeHandle(val) {\n      this.current = val;\n      this.getDataList();\n    }\n\n  },\n\n  created() {\n    this.getDataList();\n    this.getRoomList();\n  }\n\n};","map":{"version":3,"mappings":"AAgKA;AAEA;EACAA;IACA;MACAC,YADA;MAEAC,UAFA;MAGAC,YAHA;MAIAC,YAJA;MAKAC,sBALA;MAOAC;QACAC,YADA;QAEAC;MAFA,CAPA;MAYAC,YAZA;MAYA;MAEAC,oBAdA;MAeAC,eAfA;MAgBAC;QACAC,QADA;QAEAN,YAFA;QAGAC,cAHA;QAIAM,gBAJA;QAKAC;MALA,CAhBA;MAuBAC;QACAT;UAAAU;UAAAC;UAAAC;QAAA,EADA;QAEAX;UAAAS;UAAAC;UAAAC;QAAA,EAFA;QAGAL;UAAAG;UAAAC;UAAAC;QAAA,EAHA;QAIAJ;UAAAE;UAAAC;UAAAC;QAAA;MAJA,CAvBA;MA8BAC,yBA9BA;MA+BAC;QACAd,YADA;QAEAe,SAFA;QAGAC,UAHA;QAIAT;MAJA,CA/BA;MAqCAU;QACAjB;UAAAU;UAAAC;UAAAC;QAAA,EADA;QAEAG;UAAAL;UAAAC;UAAAC;QAAA,EAFA;QAGAL;UAAAG;UAAAC;UAAAC;QAAA;MAHA;IArCA;EA2CA,CA7CA;;EA8CAM;IACA;IACAC;MACA;MACAC;QACAC;UACAC,qBADA;UAEA1B,uBAFA;UAGAI,8BAHA;UAIAC;QAJA;MADA,GAOAsB,IAPA,CAOAC;QACA;UACA;UACA;QACA,CAHA,MAGA;UACA;QACA;;QACA;MACA,CAfA;IAgBA,CApBA;;IAsBA;IACAC;MACAL;QACAC;UACAC,UADA;UAEA1B;QAFA;MADA,GAKA2B,IALA,CAKAC;QACA;UACA;QACA;MACA,CATA;IAUA,CAlCA;;IAoCA;IACAE;MACA;QACA1B,YADA;QAEAC;MAFA;MAIA;MACA;IACA,CA5CA;;IA8CA;IACA0B;MACA;MACA;MACA;IACA,CAnDA;;IAqDA;IACAC;MACA;MACA;MACA;MAAA;IACA,CA1DA;;IA4DA;IACAC;MACA;QACAC,uBADA;QAEAC,sBAFA;QAGAC;MAHA,GAIAT,IAJA,CAIA;QACAH;UACA;YACA;YACA;UACA,CAHA,MAGA;YACA;UACA;QACA,CAPA;MAQA,CAbA,EAaAa,KAbA,CAaA;QACA;UACAD,YADA;UAEArB;QAFA;MAIA,CAlBA;IAmBA,CAjFA;;IAmFA;IACAuB;MACA;QACA;UACA;YACA;YACAd;cACA;gBACA;gBACA;gBACA;cACA,CAJA,MAIA;gBACA;cACA;YACA,CARA;UASA,CAXA,MAWA;YACA;YACAA;cACA;gBACA;gBACA;gBACA;cACA,CAJA,MAIA;gBACA;cACA;YACA,CARA;UASA;QACA;MACA,CA1BA;IA2BA,CAhHA;;IAkHA;IACAe;MACA;MACA;IACA,CAtHA;;IAwHA;IACAC;MACA;QACA;UACAhB;YACA;cACA;cACA;cACA;YACA,CAJA,MAIA;cACA;YACA;UACA,CARA;QASA;MACA,CAZA;IAaA,CAvIA;;IAyIA;IACAiB;MACA;QACA/B,QADA;QAEAN,YAFA;QAGAC,cAHA;QAIAM,gBAJA;QAKAC;MALA;IAOA,CAlJA;;IAoJA;IACA8B;MACA;QACAtC,YADA;QAEAe,SAFA;QAGAC,UAHA;QAIAT;MAJA;IAMA,CA5JA;;IA8JA;IACAgC;MACA;MACA;MACA;IACA,CAnKA;;IAqKA;IACAC;MACA;MACA;IACA;;EAzKA,CA9CA;;EAyNAC;IACA;IACA;EACA;;AA5NA","names":["data","dataList","current","pageSize","totalPage","dataListLoading","searchForm","roomId","seatNumber","roomList","dialogVisible","dialogTitle","form","id","seatType","status","rules","required","message","trigger","batchDialogVisible","batchForm","count","prefix","batchRules","methods","getDataList","request","params","pageNum","then","resp","getRoomList","resetSearch","handleAdd","handleEdit","handleDelete","confirmButtonText","cancelButtonText","type","catch","submitForm","handleBatchGenerate","submitBatchForm","resetForm","resetBatchForm","sizeChangeHandle","currentChangeHandle","created"],"sourceRoot":"src/views/admin","sources":["seat.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <!-- 搜索栏 -->\r\n    <div class=\"search-bar\">\r\n      <el-form :inline=\"true\">\r\n        <el-form-item label=\"自习室\">\r\n          <el-select v-model=\"searchForm.roomId\" placeholder=\"请选择自习室\" clearable @change=\"getDataList\">\r\n            <el-option\r\n                v-for=\"room in roomList\"\r\n                :key=\"room.id\"\r\n                :label=\"room.roomNumber + ' - ' + room.location\"\r\n                :value=\"room.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"座位编号\">\r\n          <el-input v-model=\"searchForm.seatNumber\" placeholder=\"请输入座位编号\" clearable @keyup.enter.native=\"getDataList\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"getDataList\">查询</el-button>\r\n          <el-button icon=\"el-icon-refresh\" @click=\"resetSearch\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 操作栏 -->\r\n    <div class=\"action-bar\">\r\n      <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"handleAdd\">新增座位</el-button>\r\n      <el-button type=\"success\" icon=\"el-icon-magic-stick\" @click=\"handleBatchGenerate\">批量生成</el-button>\r\n    </div>\r\n\r\n    <!-- 数据表格 -->\r\n    <div class=\"table-container\">\r\n      <el-table\r\n          :data=\"dataList\"\r\n          border\r\n          stripe\r\n          v-loading=\"dataListLoading\"\r\n          highlight-current-row>\r\n        <el-table-column type=\"index\" min-width=\"80\" header-align=\"center\" align=\"center\" label=\"序号\"></el-table-column>\r\n        <el-table-column prop=\"seatNumber\" header-align=\"center\" align=\"center\" min-width=\"120\" label=\"座位编号\"></el-table-column>\r\n        <el-table-column header-align=\"center\" align=\"center\" min-width=\"150\" label=\"所属自习室\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.studyRooms ? scope.row.studyRooms.roomNumber : '--' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column header-align=\"center\" align=\"center\" min-width=\"150\" label=\"位置\">\r\n          <template v-slot=\"scope\">\r\n            {{ scope.row.studyRooms ? scope.row.studyRooms.location : '--' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"seatType\" header-align=\"center\" align=\"center\" min-width=\"120\" label=\"座位类型\"></el-table-column>\r\n        <el-table-column prop=\"status\" header-align=\"center\" align=\"center\" min-width=\"100\" label=\"状态\">\r\n          <template v-slot=\"scope\">\r\n            <el-tag v-if=\"scope.row.status === 0\" type=\"success\">可用</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status === 1\" type=\"warning\">维修中</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status === 2\" type=\"danger\">禁用</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column fixed=\"right\" header-align=\"center\" align=\"center\" width=\"200\" label=\"操作\">\r\n          <template v-slot=\"scope\">\r\n            <el-button type=\"primary\" size=\"small\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n            <el-button type=\"danger\" size=\"small\" @click=\"handleDelete(scope.row.id)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n        @size-change=\"sizeChangeHandle\"\r\n        @current-change=\"currentChangeHandle\"\r\n        :current-page=\"current\"\r\n        :page-sizes=\"[10, 20, 50, 100]\"\r\n        :page-size=\"pageSize\"\r\n        :total=\"totalPage\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\">\r\n    </el-pagination>\r\n\r\n    <!-- 新增/编辑弹窗 -->\r\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"500px\">\r\n      <el-form :model=\"form\" label-width=\"100px\" ref=\"form\" :rules=\"rules\">\r\n        <el-form-item label=\"自习室\" prop=\"roomId\">\r\n          <el-select v-model=\"form.roomId\" placeholder=\"请选择自习室\" style=\"width: 100%\">\r\n            <el-option\r\n                v-for=\"room in roomList\"\r\n                :key=\"room.id\"\r\n                :label=\"room.roomNumber + ' - ' + room.location\"\r\n                :value=\"room.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"座位编号\" prop=\"seatNumber\">\r\n          <el-input v-model=\"form.seatNumber\" placeholder=\"请输入座位编号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"座位类型\" prop=\"seatType\">\r\n          <el-select v-model=\"form.seatType\" placeholder=\"请选择座位类型\" style=\"width: 100%\">\r\n            <el-option label=\"普通座位\" value=\"普通座位\"></el-option>\r\n            <el-option label=\"插座座位\" value=\"插座座位\"></el-option>\r\n            <el-option label=\"静音区\" value=\"静音区\"></el-option>\r\n            <el-option label=\"讨论区\" value=\"讨论区\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\" prop=\"status\">\r\n          <el-select v-model=\"form.status\" placeholder=\"请选择状态\" style=\"width: 100%\">\r\n            <el-option label=\"可用\" :value=\"0\"></el-option>\r\n            <el-option label=\"维修中\" :value=\"1\"></el-option>\r\n            <el-option label=\"禁用\" :value=\"2\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 批量生成弹窗 -->\r\n    <el-dialog title=\"批量生成座位\" :visible.sync=\"batchDialogVisible\" width=\"500px\">\r\n      <el-form :model=\"batchForm\" label-width=\"100px\" ref=\"batchForm\" :rules=\"batchRules\">\r\n        <el-form-item label=\"自习室\" prop=\"roomId\">\r\n          <el-select v-model=\"batchForm.roomId\" placeholder=\"请选择自习室\" style=\"width: 100%\">\r\n            <el-option\r\n                v-for=\"room in roomList\"\r\n                :key=\"room.id\"\r\n                :label=\"room.roomNumber + ' - ' + room.location\"\r\n                :value=\"room.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"生成数量\" prop=\"count\">\r\n          <el-input-number v-model=\"batchForm.count\" :min=\"1\" :max=\"200\" placeholder=\"请输入生成数量\" style=\"width: 100%\"></el-input-number>\r\n        </el-form-item>\r\n        <el-form-item label=\"编号前缀\" prop=\"prefix\">\r\n          <el-input v-model=\"batchForm.prefix\" placeholder=\"如：A、B、1A（可选）\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"座位类型\" prop=\"seatType\">\r\n          <el-select v-model=\"batchForm.seatType\" placeholder=\"请选择座位类型\" style=\"width: 100%\">\r\n            <el-option label=\"普通座位\" value=\"普通座位\"></el-option>\r\n            <el-option label=\"插座座位\" value=\"插座座位\"></el-option>\r\n            <el-option label=\"静音区\" value=\"静音区\"></el-option>\r\n            <el-option label=\"讨论区\" value=\"讨论区\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-alert\r\n            title=\"提示：将自动生成座位编号，如前缀为A，数量为10，则生成A001-A010\"\r\n            type=\"info\"\r\n            :closable=\"false\"\r\n            show-icon>\r\n        </el-alert>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"batchDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitBatchForm\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: [],\r\n      current: 1,\r\n      pageSize: 10,\r\n      totalPage: 0,\r\n      dataListLoading: false,\r\n\r\n      searchForm: {\r\n        roomId: null,\r\n        seatNumber: ''\r\n      },\r\n\r\n      roomList: [], // 自习室列表\r\n\r\n      dialogVisible: false,\r\n      dialogTitle: '',\r\n      form: {\r\n        id: null,\r\n        roomId: null,\r\n        seatNumber: '',\r\n        seatType: '普通座位',\r\n        status: 0\r\n      },\r\n      rules: {\r\n        roomId: [{required: true, message: '请选择自习室', trigger: 'change'}],\r\n        seatNumber: [{required: true, message: '请输入座位编号', trigger: 'blur'}],\r\n        seatType: [{required: true, message: '请选择座位类型', trigger: 'change'}],\r\n        status: [{required: true, message: '请选择状态', trigger: 'change'}]\r\n      },\r\n\r\n      batchDialogVisible: false,\r\n      batchForm: {\r\n        roomId: null,\r\n        count: 10,\r\n        prefix: '',\r\n        seatType: '普通座位'\r\n      },\r\n      batchRules: {\r\n        roomId: [{required: true, message: '请选择自习室', trigger: 'change'}],\r\n        count: [{required: true, message: '请输入生成数量', trigger: 'blur'}],\r\n        seatType: [{required: true, message: '请选择座位类型', trigger: 'change'}]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取表格数据\r\n    getDataList() {\r\n      this.dataListLoading = true;\r\n      request.get('seat/page', {\r\n        params: {\r\n          pageNum: this.current,\r\n          pageSize: this.pageSize,\r\n          roomId: this.searchForm.roomId,\r\n          seatNumber: this.searchForm.seatNumber\r\n        }\r\n      }).then((resp) => {\r\n        if (resp.code === 200) {\r\n          this.dataList = resp.data.list;\r\n          this.totalPage = resp.data.total;\r\n        } else {\r\n          this.dataList = [];\r\n        }\r\n        this.dataListLoading = false;\r\n      });\r\n    },\r\n\r\n    // 获取自习室列表\r\n    getRoomList() {\r\n      request.get('studyRooms/page', {\r\n        params: {\r\n          pageNum: 1,\r\n          pageSize: 999\r\n        }\r\n      }).then((resp) => {\r\n        if (resp.code === 200) {\r\n          this.roomList = resp.data.list;\r\n        }\r\n      });\r\n    },\r\n\r\n    // 重置搜索\r\n    resetSearch() {\r\n      this.searchForm = {\r\n        roomId: null,\r\n        seatNumber: ''\r\n      };\r\n      this.current = 1;\r\n      this.getDataList();\r\n    },\r\n\r\n    // 新增\r\n    handleAdd() {\r\n      this.dialogTitle = '新增座位';\r\n      this.dialogVisible = true;\r\n      this.resetForm();\r\n    },\r\n\r\n    // 编辑\r\n    handleEdit(row) {\r\n      this.dialogTitle = '编辑座位';\r\n      this.dialogVisible = true;\r\n      this.form = {...row};\r\n    },\r\n\r\n    // 删除\r\n    handleDelete(id) {\r\n      this.$confirm('此操作将永久删除该座位, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        request.delete(\"/seat/delete/\" + id).then(res => {\r\n          if (res.code === 200) {\r\n            this.$notify.success('删除成功');\r\n            this.getDataList();\r\n          } else {\r\n            this.$notify.error(res.message);\r\n          }\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    },\r\n\r\n    // 提交表单\r\n    submitForm() {\r\n      this.$refs.form.validate(valid => {\r\n        if (valid) {\r\n          if (this.form.id) {\r\n            // 编辑\r\n            request.put(\"/seat/update\", this.form).then(res => {\r\n              if (res.code === 200) {\r\n                this.$notify.success('修改成功');\r\n                this.dialogVisible = false;\r\n                this.getDataList();\r\n              } else {\r\n                this.$notify.error(res.message);\r\n              }\r\n            });\r\n          } else {\r\n            // 新增\r\n            request.post(\"/seat/add\", this.form).then(res => {\r\n              if (res.code === 200) {\r\n                this.$notify.success('新增成功');\r\n                this.dialogVisible = false;\r\n                this.getDataList();\r\n              } else {\r\n                this.$notify.error(res.message);\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    // 批量生成\r\n    handleBatchGenerate() {\r\n      this.batchDialogVisible = true;\r\n      this.resetBatchForm();\r\n    },\r\n\r\n    // 提交批量生成\r\n    submitBatchForm() {\r\n      this.$refs.batchForm.validate(valid => {\r\n        if (valid) {\r\n          request.post(\"/seat/batchGenerate\", this.batchForm).then(res => {\r\n            if (res.code === 200) {\r\n              this.$notify.success('批量生成成功');\r\n              this.batchDialogVisible = false;\r\n              this.getDataList();\r\n            } else {\r\n              this.$notify.error(res.message);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    // 重置表单\r\n    resetForm() {\r\n      this.form = {\r\n        id: null,\r\n        roomId: null,\r\n        seatNumber: '',\r\n        seatType: '普通座位',\r\n        status: 0\r\n      };\r\n    },\r\n\r\n    // 重置批量生成表单\r\n    resetBatchForm() {\r\n      this.batchForm = {\r\n        roomId: null,\r\n        count: 10,\r\n        prefix: '',\r\n        seatType: '普通座位'\r\n      };\r\n    },\r\n\r\n    // 分页大小变化\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.current = 1;\r\n      this.getDataList();\r\n    },\r\n\r\n    // 当前页码变化\r\n    currentChangeHandle(val) {\r\n      this.current = val;\r\n      this.getDataList();\r\n    }\r\n  },\r\n  created() {\r\n    this.getDataList();\r\n    this.getRoomList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  padding: 20px;\r\n}\r\n\r\n.search-bar {\r\n  margin-bottom: 20px;\r\n  background: #f5f7fa;\r\n  padding: 20px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.action-bar {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-container {\r\n  overflow-x: auto;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}