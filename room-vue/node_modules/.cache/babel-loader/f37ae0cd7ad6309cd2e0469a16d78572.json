{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isString, indexOf, each, bind, isFunction, isArray, isDom } from 'zrender/lib/core/util.js';\nimport { normalizeEvent } from 'zrender/lib/core/event.js';\nimport { transformLocalCoord } from 'zrender/lib/core/dom.js';\nimport env from 'zrender/lib/core/env.js';\nimport { convertToColorString, toCamelCase, normalizeCssArray } from '../../util/format.js';\nimport { shouldTooltipConfine, toCSSVendorPrefix, getComputedStyle, TRANSFORM_VENDOR, TRANSITION_VENDOR } from './helper.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\n/* global document, window */\n\nvar CSS_TRANSITION_VENDOR = toCSSVendorPrefix(TRANSITION_VENDOR, 'transition');\nvar CSS_TRANSFORM_VENDOR = toCSSVendorPrefix(TRANSFORM_VENDOR, 'transform'); // eslint-disable-next-line\n\nvar gCssText = \"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\" + (env.transform3dSupported ? 'will-change:transform;' : '');\n\nfunction mirrorPos(pos) {\n  pos = pos === 'left' ? 'right' : pos === 'right' ? 'left' : pos === 'top' ? 'bottom' : 'top';\n  return pos;\n}\n\nfunction assembleArrow(tooltipModel, borderColor, arrowPosition) {\n  if (!isString(arrowPosition) || arrowPosition === 'inside') {\n    return '';\n  }\n\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var borderWidth = tooltipModel.get('borderWidth');\n  borderColor = convertToColorString(borderColor);\n  var arrowPos = mirrorPos(arrowPosition);\n  var arrowSize = Math.max(Math.round(borderWidth) * 1.5, 6);\n  var positionStyle = '';\n  var transformStyle = CSS_TRANSFORM_VENDOR + ':';\n  var rotateDeg;\n\n  if (indexOf(['left', 'right'], arrowPos) > -1) {\n    positionStyle += 'top:50%';\n    transformStyle += \"translateY(-50%) rotate(\" + (rotateDeg = arrowPos === 'left' ? -225 : -45) + \"deg)\";\n  } else {\n    positionStyle += 'left:50%';\n    transformStyle += \"translateX(-50%) rotate(\" + (rotateDeg = arrowPos === 'top' ? 225 : 45) + \"deg)\";\n  }\n\n  var rotateRadian = rotateDeg * Math.PI / 180;\n  var arrowWH = arrowSize + borderWidth;\n  var rotatedWH = arrowWH * Math.abs(Math.cos(rotateRadian)) + arrowWH * Math.abs(Math.sin(rotateRadian));\n  var arrowOffset = Math.round(((rotatedWH - Math.SQRT2 * borderWidth) / 2 + Math.SQRT2 * borderWidth - (rotatedWH - arrowWH) / 2) * 100) / 100;\n  positionStyle += \";\" + arrowPos + \":-\" + arrowOffset + \"px\";\n  var borderStyle = borderColor + \" solid \" + borderWidth + \"px;\";\n  var styleCss = [\"position:absolute;width:\" + arrowSize + \"px;height:\" + arrowSize + \"px;z-index:-1;\", positionStyle + \";\" + transformStyle + \";\", \"border-bottom:\" + borderStyle, \"border-right:\" + borderStyle, \"background-color:\" + backgroundColor + \";\"];\n  return \"<div style=\\\"\" + styleCss.join('') + \"\\\"></div>\";\n}\n\nfunction assembleTransition(duration, onlyFade) {\n  var transitionCurve = 'cubic-bezier(0.23,1,0.32,1)';\n  var transitionOption = \" \" + duration / 2 + \"s \" + transitionCurve;\n  var transitionText = \"opacity\" + transitionOption + \",visibility\" + transitionOption;\n\n  if (!onlyFade) {\n    transitionOption = \" \" + duration + \"s \" + transitionCurve;\n    transitionText += env.transformSupported ? \",\" + CSS_TRANSFORM_VENDOR + transitionOption : \",left\" + transitionOption + \",top\" + transitionOption;\n  }\n\n  return CSS_TRANSITION_VENDOR + ':' + transitionText;\n}\n\nfunction assembleTransform(x, y, toString) {\n  // If using float on style, the final width of the dom might\n  // keep changing slightly while mouse move. So `toFixed(0)` them.\n  var x0 = x.toFixed(0) + 'px';\n  var y0 = y.toFixed(0) + 'px'; // not support transform, use `left` and `top` instead.\n\n  if (!env.transformSupported) {\n    return toString ? \"top:\" + y0 + \";left:\" + x0 + \";\" : [['top', y0], ['left', x0]];\n  } // support transform\n\n\n  var is3d = env.transform3dSupported;\n  var translate = \"translate\" + (is3d ? '3d' : '') + \"(\" + x0 + \",\" + y0 + (is3d ? ',0' : '') + \")\";\n  return toString ? 'top:0;left:0;' + CSS_TRANSFORM_VENDOR + ':' + translate + ';' : [['top', 0], ['left', 0], [TRANSFORM_VENDOR, translate]];\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\n\n\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  fontSize // @ts-ignore, leave it to the tooltip refactor.\n  && cssText.push('line-height:' + Math.round(fontSize * 3 / 2) + 'px');\n  var shadowColor = textStyleModel.get('textShadowColor');\n  var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n  var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n  var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n  shadowColor && shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\n\nfunction assembleCssText(tooltipModel, enableTransition, onlyFade) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var shadowBlur = tooltipModel.get('shadowBlur');\n  var shadowColor = tooltipModel.get('shadowColor');\n  var shadowOffsetX = tooltipModel.get('shadowOffsetX');\n  var shadowOffsetY = tooltipModel.get('shadowOffsetY');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = getPaddingFromTooltipModel(tooltipModel, 'html');\n  var boxShadow = shadowOffsetX + \"px \" + shadowOffsetY + \"px \" + shadowBlur + \"px \" + shadowColor;\n  cssText.push('box-shadow:' + boxShadow); // Animation transition. Do not animate when transitionDuration is 0.\n\n  enableTransition && transitionDuration && cssText.push(assembleTransition(transitionDuration, onlyFade));\n\n  if (backgroundColor) {\n    cssText.push('background-color:' + backgroundColor);\n  } // Border style\n\n\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  }); // Text style\n\n  cssText.push(assembleFont(textStyleModel)); // Padding\n\n  if (padding != null) {\n    cssText.push('padding:' + normalizeCssArray(padding).join('px ') + 'px');\n  }\n\n  return cssText.join(';') + ';';\n} // If not able to make, do not modify the input `out`.\n\n\nfunction makeStyleCoord(out, zr, container, zrX, zrY) {\n  var zrPainter = zr && zr.painter;\n\n  if (container) {\n    var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n\n    if (zrViewportRoot) {\n      // Some APPs might use scale on body, so we support CSS transform here.\n      transformLocalCoord(out, zrViewportRoot, container, zrX, zrY);\n    }\n  } else {\n    out[0] = zrX;\n    out[1] = zrY; // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n\n    var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n\n    if (viewportRootOffset) {\n      out[0] += viewportRootOffset.offsetLeft;\n      out[1] += viewportRootOffset.offsetTop;\n    }\n  }\n\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\n\nvar TooltipHTMLContent =\n/** @class */\nfunction () {\n  function TooltipHTMLContent(api, opt) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._enterable = true;\n    this._alwaysShowContent = false;\n    this._firstShow = true;\n    this._longHide = true;\n\n    if (env.wxa) {\n      return null;\n    }\n\n    var el = document.createElement('div'); // TODO: TYPE\n\n    el.domBelongToZr = true;\n    this.el = el;\n    var zr = this._zr = api.getZr();\n    var appendTo = opt.appendTo;\n    var container = appendTo && (isString(appendTo) ? document.querySelector(appendTo) : isDom(appendTo) ? appendTo : isFunction(appendTo) && appendTo(api.getDom()));\n    makeStyleCoord(this._styleCoord, zr, container, api.getWidth() / 2, api.getHeight() / 2);\n    (container || api.getDom()).appendChild(el);\n    this._api = api;\n    this._container = container; // FIXME\n    // Is it needed to trigger zr event manually if\n    // the browser do not support `pointer-events: none`.\n\n    var self = this;\n\n    el.onmouseenter = function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    };\n\n    el.onmousemove = function (e) {\n      e = e || window.event;\n\n      if (!self._enterable) {\n        // `pointer-events: none` is set to tooltip content div\n        // if `enterable` is set as `false`, and `el.onmousemove`\n        // can not be triggered. But in browser that do not\n        // support `pointer-events`, we need to do this:\n        // Try trigger zrender event to avoid mouse\n        // in and out shape too frequently\n        var handler = zr.handler;\n        var zrViewportRoot = zr.painter.getViewportRoot();\n        normalizeEvent(zrViewportRoot, e, true);\n        handler.dispatch('mousemove', e);\n      }\n    };\n\n    el.onmouseleave = function () {\n      // set `_inContent` to `false` before `hideLater`\n      self._inContent = false;\n\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n    };\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n\n\n  TooltipHTMLContent.prototype.update = function (tooltipModel) {\n    // FIXME\n    // Move this logic to ec main?\n    if (!this._container) {\n      var container = this._api.getDom();\n\n      var position = getComputedStyle(container, 'position');\n      var domStyle = container.style;\n\n      if (domStyle.position !== 'absolute' && position !== 'absolute') {\n        domStyle.position = 'relative';\n      }\n    } // move tooltip if chart resized\n\n\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized(); // update alwaysShowContent\n\n    this._alwaysShowContent = alwaysShowContent; // update className\n\n    this.el.className = tooltipModel.get('className') || ''; // Hide the tooltip\n    // PENDING\n    // this.hide();\n  };\n\n  TooltipHTMLContent.prototype.show = function (tooltipModel, nearPointColor) {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var el = this.el;\n    var style = el.style;\n    var styleCoord = this._styleCoord;\n\n    if (!el.innerHTML) {\n      style.display = 'none';\n    } else {\n      style.cssText = gCssText + assembleCssText(tooltipModel, !this._firstShow, this._longHide) // initial transform\n      + assembleTransform(styleCoord[0], styleCoord[1], true) + (\"border-color:\" + convertToColorString(nearPointColor) + \";\") + (tooltipModel.get('extraCssText') || '') // If mouse occasionally move over the tooltip, a mouseout event will be\n      // triggered by canvas, and cause some unexpectable result like dragging\n      // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n      // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n      // scenario.\n      + (\";pointer-events:\" + (this._enterable ? 'auto' : 'none'));\n    }\n\n    this._show = true;\n    this._firstShow = false;\n    this._longHide = false;\n  };\n\n  TooltipHTMLContent.prototype.setContent = function (content, markers, tooltipModel, borderColor, arrowPosition) {\n    var el = this.el;\n\n    if (content == null) {\n      el.innerHTML = '';\n      return;\n    }\n\n    var arrow = '';\n\n    if (isString(arrowPosition) && tooltipModel.get('trigger') === 'item' && !shouldTooltipConfine(tooltipModel)) {\n      arrow = assembleArrow(tooltipModel, borderColor, arrowPosition);\n    }\n\n    if (isString(content)) {\n      el.innerHTML = content + arrow;\n    } else if (content) {\n      // Clear previous\n      el.innerHTML = '';\n\n      if (!isArray(content)) {\n        content = [content];\n      }\n\n      for (var i = 0; i < content.length; i++) {\n        if (isDom(content[i]) && content[i].parentNode !== el) {\n          el.appendChild(content[i]);\n        }\n      } // no arrow if empty\n\n\n      if (arrow && el.childNodes.length) {\n        // no need to create a new parent element, but it's not supported by IE 10 and older.\n        // const arrowEl = document.createRange().createContextualFragment(arrow);\n        var arrowEl = document.createElement('div');\n        arrowEl.innerHTML = arrow;\n        el.appendChild(arrowEl);\n      }\n    }\n  };\n\n  TooltipHTMLContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n\n  TooltipHTMLContent.prototype.getSize = function () {\n    var el = this.el;\n    return [el.offsetWidth, el.offsetHeight];\n  };\n\n  TooltipHTMLContent.prototype.moveTo = function (zrX, zrY) {\n    var styleCoord = this._styleCoord;\n    makeStyleCoord(styleCoord, this._zr, this._container, zrX, zrY);\n\n    if (styleCoord[0] != null && styleCoord[1] != null) {\n      var style_1 = this.el.style;\n      var transforms = assembleTransform(styleCoord[0], styleCoord[1]);\n      each(transforms, function (transform) {\n        style_1[transform[0]] = transform[1];\n      });\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n\n\n  TooltipHTMLContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2]; // The ratio of top to height\n\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n\n  TooltipHTMLContent.prototype.hide = function () {\n    var _this = this;\n\n    var style = this.el.style;\n    style.visibility = 'hidden';\n    style.opacity = '0';\n    env.transform3dSupported && (style.willChange = '');\n    this._show = false;\n    this._longHideTimeout = setTimeout(function () {\n      return _this._longHide = true;\n    }, 500);\n  };\n\n  TooltipHTMLContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n\n  TooltipHTMLContent.prototype.isShow = function () {\n    return this._show;\n  };\n\n  TooltipHTMLContent.prototype.dispose = function () {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var parentNode = this.el.parentNode;\n    parentNode && parentNode.removeChild(this.el);\n    this.el = this._container = null;\n  };\n\n  return TooltipHTMLContent;\n}();\n\nexport default TooltipHTMLContent;","map":{"version":3,"names":["isString","indexOf","each","bind","isFunction","isArray","isDom","normalizeEvent","transformLocalCoord","env","convertToColorString","toCamelCase","normalizeCssArray","shouldTooltipConfine","toCSSVendorPrefix","getComputedStyle","TRANSFORM_VENDOR","TRANSITION_VENDOR","getPaddingFromTooltipModel","CSS_TRANSITION_VENDOR","CSS_TRANSFORM_VENDOR","gCssText","transform3dSupported","mirrorPos","pos","assembleArrow","tooltipModel","borderColor","arrowPosition","backgroundColor","get","borderWidth","arrowPos","arrowSize","Math","max","round","positionStyle","transformStyle","rotateDeg","rotateRadian","PI","arrowWH","rotatedWH","abs","cos","sin","arrowOffset","SQRT2","borderStyle","styleCss","join","assembleTransition","duration","onlyFade","transitionCurve","transitionOption","transitionText","transformSupported","assembleTransform","x","y","toString","x0","toFixed","y0","is3d","translate","assembleFont","textStyleModel","cssText","fontSize","color","getTextColor","push","getFont","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","name","val","assembleCssText","enableTransition","transitionDuration","getModel","padding","boxShadow","borderName","camelCase","makeStyleCoord","out","zr","container","zrX","zrY","zrPainter","painter","zrViewportRoot","getViewportRoot","viewportRootOffset","getViewportRootOffset","offsetLeft","offsetTop","getWidth","getHeight","TooltipHTMLContent","api","opt","_show","_styleCoord","_enterable","_alwaysShowContent","_firstShow","_longHide","wxa","el","document","createElement","domBelongToZr","_zr","getZr","appendTo","querySelector","getDom","appendChild","_api","_container","self","onmouseenter","clearTimeout","_hideTimeout","_inContent","onmousemove","e","window","event","handler","dispatch","onmouseleave","hideLater","_hideDelay","prototype","update","position","domStyle","style","alwaysShowContent","_moveIfResized","className","show","nearPointColor","_longHideTimeout","styleCoord","innerHTML","display","setContent","content","markers","arrow","i","length","parentNode","childNodes","arrowEl","setEnterable","enterable","getSize","offsetWidth","offsetHeight","moveTo","style_1","transforms","transform","ratioX","ratioY","hide","_this","visibility","opacity","willChange","setTimeout","time","isShow","dispose","removeChild"],"sources":["C:/Users/86138/Desktop/软件/room/room-vue/node_modules/echarts/lib/component/tooltip/TooltipHTMLContent.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isString, indexOf, each, bind, isFunction, isArray, isDom } from 'zrender/lib/core/util.js';\nimport { normalizeEvent } from 'zrender/lib/core/event.js';\nimport { transformLocalCoord } from 'zrender/lib/core/dom.js';\nimport env from 'zrender/lib/core/env.js';\nimport { convertToColorString, toCamelCase, normalizeCssArray } from '../../util/format.js';\nimport { shouldTooltipConfine, toCSSVendorPrefix, getComputedStyle, TRANSFORM_VENDOR, TRANSITION_VENDOR } from './helper.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\n/* global document, window */\nvar CSS_TRANSITION_VENDOR = toCSSVendorPrefix(TRANSITION_VENDOR, 'transition');\nvar CSS_TRANSFORM_VENDOR = toCSSVendorPrefix(TRANSFORM_VENDOR, 'transform');\n// eslint-disable-next-line\nvar gCssText = \"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\" + (env.transform3dSupported ? 'will-change:transform;' : '');\nfunction mirrorPos(pos) {\n  pos = pos === 'left' ? 'right' : pos === 'right' ? 'left' : pos === 'top' ? 'bottom' : 'top';\n  return pos;\n}\nfunction assembleArrow(tooltipModel, borderColor, arrowPosition) {\n  if (!isString(arrowPosition) || arrowPosition === 'inside') {\n    return '';\n  }\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var borderWidth = tooltipModel.get('borderWidth');\n  borderColor = convertToColorString(borderColor);\n  var arrowPos = mirrorPos(arrowPosition);\n  var arrowSize = Math.max(Math.round(borderWidth) * 1.5, 6);\n  var positionStyle = '';\n  var transformStyle = CSS_TRANSFORM_VENDOR + ':';\n  var rotateDeg;\n  if (indexOf(['left', 'right'], arrowPos) > -1) {\n    positionStyle += 'top:50%';\n    transformStyle += \"translateY(-50%) rotate(\" + (rotateDeg = arrowPos === 'left' ? -225 : -45) + \"deg)\";\n  } else {\n    positionStyle += 'left:50%';\n    transformStyle += \"translateX(-50%) rotate(\" + (rotateDeg = arrowPos === 'top' ? 225 : 45) + \"deg)\";\n  }\n  var rotateRadian = rotateDeg * Math.PI / 180;\n  var arrowWH = arrowSize + borderWidth;\n  var rotatedWH = arrowWH * Math.abs(Math.cos(rotateRadian)) + arrowWH * Math.abs(Math.sin(rotateRadian));\n  var arrowOffset = Math.round(((rotatedWH - Math.SQRT2 * borderWidth) / 2 + Math.SQRT2 * borderWidth - (rotatedWH - arrowWH) / 2) * 100) / 100;\n  positionStyle += \";\" + arrowPos + \":-\" + arrowOffset + \"px\";\n  var borderStyle = borderColor + \" solid \" + borderWidth + \"px;\";\n  var styleCss = [\"position:absolute;width:\" + arrowSize + \"px;height:\" + arrowSize + \"px;z-index:-1;\", positionStyle + \";\" + transformStyle + \";\", \"border-bottom:\" + borderStyle, \"border-right:\" + borderStyle, \"background-color:\" + backgroundColor + \";\"];\n  return \"<div style=\\\"\" + styleCss.join('') + \"\\\"></div>\";\n}\nfunction assembleTransition(duration, onlyFade) {\n  var transitionCurve = 'cubic-bezier(0.23,1,0.32,1)';\n  var transitionOption = \" \" + duration / 2 + \"s \" + transitionCurve;\n  var transitionText = \"opacity\" + transitionOption + \",visibility\" + transitionOption;\n  if (!onlyFade) {\n    transitionOption = \" \" + duration + \"s \" + transitionCurve;\n    transitionText += env.transformSupported ? \",\" + CSS_TRANSFORM_VENDOR + transitionOption : \",left\" + transitionOption + \",top\" + transitionOption;\n  }\n  return CSS_TRANSITION_VENDOR + ':' + transitionText;\n}\nfunction assembleTransform(x, y, toString) {\n  // If using float on style, the final width of the dom might\n  // keep changing slightly while mouse move. So `toFixed(0)` them.\n  var x0 = x.toFixed(0) + 'px';\n  var y0 = y.toFixed(0) + 'px';\n  // not support transform, use `left` and `top` instead.\n  if (!env.transformSupported) {\n    return toString ? \"top:\" + y0 + \";left:\" + x0 + \";\" : [['top', y0], ['left', x0]];\n  }\n  // support transform\n  var is3d = env.transform3dSupported;\n  var translate = \"translate\" + (is3d ? '3d' : '') + \"(\" + x0 + \",\" + y0 + (is3d ? ',0' : '') + \")\";\n  return toString ? 'top:0;left:0;' + CSS_TRANSFORM_VENDOR + ':' + translate + ';' : [['top', 0], ['left', 0], [TRANSFORM_VENDOR, translate]];\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  fontSize\n  // @ts-ignore, leave it to the tooltip refactor.\n  && cssText.push('line-height:' + Math.round(fontSize * 3 / 2) + 'px');\n  var shadowColor = textStyleModel.get('textShadowColor');\n  var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n  var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n  var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n  shadowColor && shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\nfunction assembleCssText(tooltipModel, enableTransition, onlyFade) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var shadowBlur = tooltipModel.get('shadowBlur');\n  var shadowColor = tooltipModel.get('shadowColor');\n  var shadowOffsetX = tooltipModel.get('shadowOffsetX');\n  var shadowOffsetY = tooltipModel.get('shadowOffsetY');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = getPaddingFromTooltipModel(tooltipModel, 'html');\n  var boxShadow = shadowOffsetX + \"px \" + shadowOffsetY + \"px \" + shadowBlur + \"px \" + shadowColor;\n  cssText.push('box-shadow:' + boxShadow);\n  // Animation transition. Do not animate when transitionDuration is 0.\n  enableTransition && transitionDuration && cssText.push(assembleTransition(transitionDuration, onlyFade));\n  if (backgroundColor) {\n    cssText.push('background-color:' + backgroundColor);\n  }\n  // Border style\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  });\n  // Text style\n  cssText.push(assembleFont(textStyleModel));\n  // Padding\n  if (padding != null) {\n    cssText.push('padding:' + normalizeCssArray(padding).join('px ') + 'px');\n  }\n  return cssText.join(';') + ';';\n}\n// If not able to make, do not modify the input `out`.\nfunction makeStyleCoord(out, zr, container, zrX, zrY) {\n  var zrPainter = zr && zr.painter;\n  if (container) {\n    var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n    if (zrViewportRoot) {\n      // Some APPs might use scale on body, so we support CSS transform here.\n      transformLocalCoord(out, zrViewportRoot, container, zrX, zrY);\n    }\n  } else {\n    out[0] = zrX;\n    out[1] = zrY;\n    // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n    var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n    if (viewportRootOffset) {\n      out[0] += viewportRootOffset.offsetLeft;\n      out[1] += viewportRootOffset.offsetTop;\n    }\n  }\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\nvar TooltipHTMLContent = /** @class */function () {\n  function TooltipHTMLContent(api, opt) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._enterable = true;\n    this._alwaysShowContent = false;\n    this._firstShow = true;\n    this._longHide = true;\n    if (env.wxa) {\n      return null;\n    }\n    var el = document.createElement('div');\n    // TODO: TYPE\n    el.domBelongToZr = true;\n    this.el = el;\n    var zr = this._zr = api.getZr();\n    var appendTo = opt.appendTo;\n    var container = appendTo && (isString(appendTo) ? document.querySelector(appendTo) : isDom(appendTo) ? appendTo : isFunction(appendTo) && appendTo(api.getDom()));\n    makeStyleCoord(this._styleCoord, zr, container, api.getWidth() / 2, api.getHeight() / 2);\n    (container || api.getDom()).appendChild(el);\n    this._api = api;\n    this._container = container;\n    // FIXME\n    // Is it needed to trigger zr event manually if\n    // the browser do not support `pointer-events: none`.\n    var self = this;\n    el.onmouseenter = function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n      self._inContent = true;\n    };\n    el.onmousemove = function (e) {\n      e = e || window.event;\n      if (!self._enterable) {\n        // `pointer-events: none` is set to tooltip content div\n        // if `enterable` is set as `false`, and `el.onmousemove`\n        // can not be triggered. But in browser that do not\n        // support `pointer-events`, we need to do this:\n        // Try trigger zrender event to avoid mouse\n        // in and out shape too frequently\n        var handler = zr.handler;\n        var zrViewportRoot = zr.painter.getViewportRoot();\n        normalizeEvent(zrViewportRoot, e, true);\n        handler.dispatch('mousemove', e);\n      }\n    };\n    el.onmouseleave = function () {\n      // set `_inContent` to `false` before `hideLater`\n      self._inContent = false;\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n    };\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n  TooltipHTMLContent.prototype.update = function (tooltipModel) {\n    // FIXME\n    // Move this logic to ec main?\n    if (!this._container) {\n      var container = this._api.getDom();\n      var position = getComputedStyle(container, 'position');\n      var domStyle = container.style;\n      if (domStyle.position !== 'absolute' && position !== 'absolute') {\n        domStyle.position = 'relative';\n      }\n    }\n    // move tooltip if chart resized\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized();\n    // update alwaysShowContent\n    this._alwaysShowContent = alwaysShowContent;\n    // update className\n    this.el.className = tooltipModel.get('className') || '';\n    // Hide the tooltip\n    // PENDING\n    // this.hide();\n  };\n\n  TooltipHTMLContent.prototype.show = function (tooltipModel, nearPointColor) {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var el = this.el;\n    var style = el.style;\n    var styleCoord = this._styleCoord;\n    if (!el.innerHTML) {\n      style.display = 'none';\n    } else {\n      style.cssText = gCssText + assembleCssText(tooltipModel, !this._firstShow, this._longHide)\n      // initial transform\n      + assembleTransform(styleCoord[0], styleCoord[1], true) + (\"border-color:\" + convertToColorString(nearPointColor) + \";\") + (tooltipModel.get('extraCssText') || '')\n      // If mouse occasionally move over the tooltip, a mouseout event will be\n      // triggered by canvas, and cause some unexpectable result like dragging\n      // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n      // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n      // scenario.\n      + (\";pointer-events:\" + (this._enterable ? 'auto' : 'none'));\n    }\n    this._show = true;\n    this._firstShow = false;\n    this._longHide = false;\n  };\n  TooltipHTMLContent.prototype.setContent = function (content, markers, tooltipModel, borderColor, arrowPosition) {\n    var el = this.el;\n    if (content == null) {\n      el.innerHTML = '';\n      return;\n    }\n    var arrow = '';\n    if (isString(arrowPosition) && tooltipModel.get('trigger') === 'item' && !shouldTooltipConfine(tooltipModel)) {\n      arrow = assembleArrow(tooltipModel, borderColor, arrowPosition);\n    }\n    if (isString(content)) {\n      el.innerHTML = content + arrow;\n    } else if (content) {\n      // Clear previous\n      el.innerHTML = '';\n      if (!isArray(content)) {\n        content = [content];\n      }\n      for (var i = 0; i < content.length; i++) {\n        if (isDom(content[i]) && content[i].parentNode !== el) {\n          el.appendChild(content[i]);\n        }\n      }\n      // no arrow if empty\n      if (arrow && el.childNodes.length) {\n        // no need to create a new parent element, but it's not supported by IE 10 and older.\n        // const arrowEl = document.createRange().createContextualFragment(arrow);\n        var arrowEl = document.createElement('div');\n        arrowEl.innerHTML = arrow;\n        el.appendChild(arrowEl);\n      }\n    }\n  };\n  TooltipHTMLContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n  TooltipHTMLContent.prototype.getSize = function () {\n    var el = this.el;\n    return [el.offsetWidth, el.offsetHeight];\n  };\n  TooltipHTMLContent.prototype.moveTo = function (zrX, zrY) {\n    var styleCoord = this._styleCoord;\n    makeStyleCoord(styleCoord, this._zr, this._container, zrX, zrY);\n    if (styleCoord[0] != null && styleCoord[1] != null) {\n      var style_1 = this.el.style;\n      var transforms = assembleTransform(styleCoord[0], styleCoord[1]);\n      each(transforms, function (transform) {\n        style_1[transform[0]] = transform[1];\n      });\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n  TooltipHTMLContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2];\n    // The ratio of top to height\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n  TooltipHTMLContent.prototype.hide = function () {\n    var _this = this;\n    var style = this.el.style;\n    style.visibility = 'hidden';\n    style.opacity = '0';\n    env.transform3dSupported && (style.willChange = '');\n    this._show = false;\n    this._longHideTimeout = setTimeout(function () {\n      return _this._longHide = true;\n    }, 500);\n  };\n  TooltipHTMLContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {\n      if (time) {\n        this._hideDelay = time;\n        // Set show false to avoid invoke hideLater multiple times\n        this._show = false;\n        this._hideTimeout = setTimeout(bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n  TooltipHTMLContent.prototype.isShow = function () {\n    return this._show;\n  };\n  TooltipHTMLContent.prototype.dispose = function () {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var parentNode = this.el.parentNode;\n    parentNode && parentNode.removeChild(this.el);\n    this.el = this._container = null;\n  };\n  return TooltipHTMLContent;\n}();\nexport default TooltipHTMLContent;"],"mappings":";;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,QAAT,EAAmBC,OAAnB,EAA4BC,IAA5B,EAAkCC,IAAlC,EAAwCC,UAAxC,EAAoDC,OAApD,EAA6DC,KAA7D,QAA0E,0BAA1E;AACA,SAASC,cAAT,QAA+B,2BAA/B;AACA,SAASC,mBAAT,QAAoC,yBAApC;AACA,OAAOC,GAAP,MAAgB,yBAAhB;AACA,SAASC,oBAAT,EAA+BC,WAA/B,EAA4CC,iBAA5C,QAAqE,sBAArE;AACA,SAASC,oBAAT,EAA+BC,iBAA/B,EAAkDC,gBAAlD,EAAoEC,gBAApE,EAAsFC,iBAAtF,QAA+G,aAA/G;AACA,SAASC,0BAAT,QAA2C,oBAA3C;AACA;;AACA,IAAIC,qBAAqB,GAAGL,iBAAiB,CAACG,iBAAD,EAAoB,YAApB,CAA7C;AACA,IAAIG,oBAAoB,GAAGN,iBAAiB,CAACE,gBAAD,EAAmB,WAAnB,CAA5C,C,CACA;;AACA,IAAIK,QAAQ,GAAG,4FAA4FZ,GAAG,CAACa,oBAAJ,GAA2B,wBAA3B,GAAsD,EAAlJ,CAAf;;AACA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;EACtBA,GAAG,GAAGA,GAAG,KAAK,MAAR,GAAiB,OAAjB,GAA2BA,GAAG,KAAK,OAAR,GAAkB,MAAlB,GAA2BA,GAAG,KAAK,KAAR,GAAgB,QAAhB,GAA2B,KAAvF;EACA,OAAOA,GAAP;AACD;;AACD,SAASC,aAAT,CAAuBC,YAAvB,EAAqCC,WAArC,EAAkDC,aAAlD,EAAiE;EAC/D,IAAI,CAAC5B,QAAQ,CAAC4B,aAAD,CAAT,IAA4BA,aAAa,KAAK,QAAlD,EAA4D;IAC1D,OAAO,EAAP;EACD;;EACD,IAAIC,eAAe,GAAGH,YAAY,CAACI,GAAb,CAAiB,iBAAjB,CAAtB;EACA,IAAIC,WAAW,GAAGL,YAAY,CAACI,GAAb,CAAiB,aAAjB,CAAlB;EACAH,WAAW,GAAGjB,oBAAoB,CAACiB,WAAD,CAAlC;EACA,IAAIK,QAAQ,GAAGT,SAAS,CAACK,aAAD,CAAxB;EACA,IAAIK,SAAS,GAAGC,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,KAAL,CAAWL,WAAX,IAA0B,GAAnC,EAAwC,CAAxC,CAAhB;EACA,IAAIM,aAAa,GAAG,EAApB;EACA,IAAIC,cAAc,GAAGlB,oBAAoB,GAAG,GAA5C;EACA,IAAImB,SAAJ;;EACA,IAAItC,OAAO,CAAC,CAAC,MAAD,EAAS,OAAT,CAAD,EAAoB+B,QAApB,CAAP,GAAuC,CAAC,CAA5C,EAA+C;IAC7CK,aAAa,IAAI,SAAjB;IACAC,cAAc,IAAI,8BAA8BC,SAAS,GAAGP,QAAQ,KAAK,MAAb,GAAsB,CAAC,GAAvB,GAA6B,CAAC,EAAxE,IAA8E,MAAhG;EACD,CAHD,MAGO;IACLK,aAAa,IAAI,UAAjB;IACAC,cAAc,IAAI,8BAA8BC,SAAS,GAAGP,QAAQ,KAAK,KAAb,GAAqB,GAArB,GAA2B,EAArE,IAA2E,MAA7F;EACD;;EACD,IAAIQ,YAAY,GAAGD,SAAS,GAAGL,IAAI,CAACO,EAAjB,GAAsB,GAAzC;EACA,IAAIC,OAAO,GAAGT,SAAS,GAAGF,WAA1B;EACA,IAAIY,SAAS,GAAGD,OAAO,GAAGR,IAAI,CAACU,GAAL,CAASV,IAAI,CAACW,GAAL,CAASL,YAAT,CAAT,CAAV,GAA6CE,OAAO,GAAGR,IAAI,CAACU,GAAL,CAASV,IAAI,CAACY,GAAL,CAASN,YAAT,CAAT,CAAvE;EACA,IAAIO,WAAW,GAAGb,IAAI,CAACE,KAAL,CAAW,CAAC,CAACO,SAAS,GAAGT,IAAI,CAACc,KAAL,GAAajB,WAA1B,IAAyC,CAAzC,GAA6CG,IAAI,CAACc,KAAL,GAAajB,WAA1D,GAAwE,CAACY,SAAS,GAAGD,OAAb,IAAwB,CAAjG,IAAsG,GAAjH,IAAwH,GAA1I;EACAL,aAAa,IAAI,MAAML,QAAN,GAAiB,IAAjB,GAAwBe,WAAxB,GAAsC,IAAvD;EACA,IAAIE,WAAW,GAAGtB,WAAW,GAAG,SAAd,GAA0BI,WAA1B,GAAwC,KAA1D;EACA,IAAImB,QAAQ,GAAG,CAAC,6BAA6BjB,SAA7B,GAAyC,YAAzC,GAAwDA,SAAxD,GAAoE,gBAArE,EAAuFI,aAAa,GAAG,GAAhB,GAAsBC,cAAtB,GAAuC,GAA9H,EAAmI,mBAAmBW,WAAtJ,EAAmK,kBAAkBA,WAArL,EAAkM,sBAAsBpB,eAAtB,GAAwC,GAA1O,CAAf;EACA,OAAO,kBAAkBqB,QAAQ,CAACC,IAAT,CAAc,EAAd,CAAlB,GAAsC,WAA7C;AACD;;AACD,SAASC,kBAAT,CAA4BC,QAA5B,EAAsCC,QAAtC,EAAgD;EAC9C,IAAIC,eAAe,GAAG,6BAAtB;EACA,IAAIC,gBAAgB,GAAG,MAAMH,QAAQ,GAAG,CAAjB,GAAqB,IAArB,GAA4BE,eAAnD;EACA,IAAIE,cAAc,GAAG,YAAYD,gBAAZ,GAA+B,aAA/B,GAA+CA,gBAApE;;EACA,IAAI,CAACF,QAAL,EAAe;IACbE,gBAAgB,GAAG,MAAMH,QAAN,GAAiB,IAAjB,GAAwBE,eAA3C;IACAE,cAAc,IAAIhD,GAAG,CAACiD,kBAAJ,GAAyB,MAAMtC,oBAAN,GAA6BoC,gBAAtD,GAAyE,UAAUA,gBAAV,GAA6B,MAA7B,GAAsCA,gBAAjI;EACD;;EACD,OAAOrC,qBAAqB,GAAG,GAAxB,GAA8BsC,cAArC;AACD;;AACD,SAASE,iBAAT,CAA2BC,CAA3B,EAA8BC,CAA9B,EAAiCC,QAAjC,EAA2C;EACzC;EACA;EACA,IAAIC,EAAE,GAAGH,CAAC,CAACI,OAAF,CAAU,CAAV,IAAe,IAAxB;EACA,IAAIC,EAAE,GAAGJ,CAAC,CAACG,OAAF,CAAU,CAAV,IAAe,IAAxB,CAJyC,CAKzC;;EACA,IAAI,CAACvD,GAAG,CAACiD,kBAAT,EAA6B;IAC3B,OAAOI,QAAQ,GAAG,SAASG,EAAT,GAAc,QAAd,GAAyBF,EAAzB,GAA8B,GAAjC,GAAuC,CAAC,CAAC,KAAD,EAAQE,EAAR,CAAD,EAAc,CAAC,MAAD,EAASF,EAAT,CAAd,CAAtD;EACD,CARwC,CASzC;;;EACA,IAAIG,IAAI,GAAGzD,GAAG,CAACa,oBAAf;EACA,IAAI6C,SAAS,GAAG,eAAeD,IAAI,GAAG,IAAH,GAAU,EAA7B,IAAmC,GAAnC,GAAyCH,EAAzC,GAA8C,GAA9C,GAAoDE,EAApD,IAA0DC,IAAI,GAAG,IAAH,GAAU,EAAxE,IAA8E,GAA9F;EACA,OAAOJ,QAAQ,GAAG,kBAAkB1C,oBAAlB,GAAyC,GAAzC,GAA+C+C,SAA/C,GAA2D,GAA9D,GAAoE,CAAC,CAAC,KAAD,EAAQ,CAAR,CAAD,EAAa,CAAC,MAAD,EAAS,CAAT,CAAb,EAA0B,CAACnD,gBAAD,EAAmBmD,SAAnB,CAA1B,CAAnF;AACD;AACD;AACA;AACA;AACA;AACA;;;AACA,SAASC,YAAT,CAAsBC,cAAtB,EAAsC;EACpC,IAAIC,OAAO,GAAG,EAAd;EACA,IAAIC,QAAQ,GAAGF,cAAc,CAACvC,GAAf,CAAmB,UAAnB,CAAf;EACA,IAAI0C,KAAK,GAAGH,cAAc,CAACI,YAAf,EAAZ;EACAD,KAAK,IAAIF,OAAO,CAACI,IAAR,CAAa,WAAWF,KAAxB,CAAT;EACAF,OAAO,CAACI,IAAR,CAAa,UAAUL,cAAc,CAACM,OAAf,EAAvB;EACAJ,QAAQ,CACR;EADQ,GAELD,OAAO,CAACI,IAAR,CAAa,iBAAiBxC,IAAI,CAACE,KAAL,CAAWmC,QAAQ,GAAG,CAAX,GAAe,CAA1B,CAAjB,GAAgD,IAA7D,CAFH;EAGA,IAAIK,WAAW,GAAGP,cAAc,CAACvC,GAAf,CAAmB,iBAAnB,CAAlB;EACA,IAAI+C,UAAU,GAAGR,cAAc,CAACvC,GAAf,CAAmB,gBAAnB,KAAwC,CAAzD;EACA,IAAIgD,aAAa,GAAGT,cAAc,CAACvC,GAAf,CAAmB,mBAAnB,KAA2C,CAA/D;EACA,IAAIiD,aAAa,GAAGV,cAAc,CAACvC,GAAf,CAAmB,mBAAnB,KAA2C,CAA/D;EACA8C,WAAW,IAAIC,UAAf,IAA6BP,OAAO,CAACI,IAAR,CAAa,iBAAiBI,aAAjB,GAAiC,KAAjC,GAAyCC,aAAzC,GAAyD,KAAzD,GAAiEF,UAAjE,GAA8E,KAA9E,GAAsFD,WAAnG,CAA7B;EACA1E,IAAI,CAAC,CAAC,YAAD,EAAe,OAAf,CAAD,EAA0B,UAAU8E,IAAV,EAAgB;IAC5C,IAAIC,GAAG,GAAGZ,cAAc,CAACvC,GAAf,CAAmBkD,IAAnB,CAAV;IACAC,GAAG,IAAIX,OAAO,CAACI,IAAR,CAAa,UAAUM,IAAV,GAAiB,GAAjB,GAAuBC,GAApC,CAAP;EACD,CAHG,CAAJ;EAIA,OAAOX,OAAO,CAACnB,IAAR,CAAa,GAAb,CAAP;AACD;;AACD,SAAS+B,eAAT,CAAyBxD,YAAzB,EAAuCyD,gBAAvC,EAAyD7B,QAAzD,EAAmE;EACjE,IAAIgB,OAAO,GAAG,EAAd;EACA,IAAIc,kBAAkB,GAAG1D,YAAY,CAACI,GAAb,CAAiB,oBAAjB,CAAzB;EACA,IAAID,eAAe,GAAGH,YAAY,CAACI,GAAb,CAAiB,iBAAjB,CAAtB;EACA,IAAI+C,UAAU,GAAGnD,YAAY,CAACI,GAAb,CAAiB,YAAjB,CAAjB;EACA,IAAI8C,WAAW,GAAGlD,YAAY,CAACI,GAAb,CAAiB,aAAjB,CAAlB;EACA,IAAIgD,aAAa,GAAGpD,YAAY,CAACI,GAAb,CAAiB,eAAjB,CAApB;EACA,IAAIiD,aAAa,GAAGrD,YAAY,CAACI,GAAb,CAAiB,eAAjB,CAApB;EACA,IAAIuC,cAAc,GAAG3C,YAAY,CAAC2D,QAAb,CAAsB,WAAtB,CAArB;EACA,IAAIC,OAAO,GAAGpE,0BAA0B,CAACQ,YAAD,EAAe,MAAf,CAAxC;EACA,IAAI6D,SAAS,GAAGT,aAAa,GAAG,KAAhB,GAAwBC,aAAxB,GAAwC,KAAxC,GAAgDF,UAAhD,GAA6D,KAA7D,GAAqED,WAArF;EACAN,OAAO,CAACI,IAAR,CAAa,gBAAgBa,SAA7B,EAXiE,CAYjE;;EACAJ,gBAAgB,IAAIC,kBAApB,IAA0Cd,OAAO,CAACI,IAAR,CAAatB,kBAAkB,CAACgC,kBAAD,EAAqB9B,QAArB,CAA/B,CAA1C;;EACA,IAAIzB,eAAJ,EAAqB;IACnByC,OAAO,CAACI,IAAR,CAAa,sBAAsB7C,eAAnC;EACD,CAhBgE,CAiBjE;;;EACA3B,IAAI,CAAC,CAAC,OAAD,EAAU,OAAV,EAAmB,QAAnB,CAAD,EAA+B,UAAU8E,IAAV,EAAgB;IACjD,IAAIQ,UAAU,GAAG,YAAYR,IAA7B;IACA,IAAIS,SAAS,GAAG9E,WAAW,CAAC6E,UAAD,CAA3B;IACA,IAAIP,GAAG,GAAGvD,YAAY,CAACI,GAAb,CAAiB2D,SAAjB,CAAV;IACAR,GAAG,IAAI,IAAP,IAAeX,OAAO,CAACI,IAAR,CAAac,UAAU,GAAG,GAAb,GAAmBP,GAAnB,IAA0BD,IAAI,KAAK,OAAT,GAAmB,EAAnB,GAAwB,IAAlD,CAAb,CAAf;EACD,CALG,CAAJ,CAlBiE,CAwBjE;;EACAV,OAAO,CAACI,IAAR,CAAaN,YAAY,CAACC,cAAD,CAAzB,EAzBiE,CA0BjE;;EACA,IAAIiB,OAAO,IAAI,IAAf,EAAqB;IACnBhB,OAAO,CAACI,IAAR,CAAa,aAAa9D,iBAAiB,CAAC0E,OAAD,CAAjB,CAA2BnC,IAA3B,CAAgC,KAAhC,CAAb,GAAsD,IAAnE;EACD;;EACD,OAAOmB,OAAO,CAACnB,IAAR,CAAa,GAAb,IAAoB,GAA3B;AACD,C,CACD;;;AACA,SAASuC,cAAT,CAAwBC,GAAxB,EAA6BC,EAA7B,EAAiCC,SAAjC,EAA4CC,GAA5C,EAAiDC,GAAjD,EAAsD;EACpD,IAAIC,SAAS,GAAGJ,EAAE,IAAIA,EAAE,CAACK,OAAzB;;EACA,IAAIJ,SAAJ,EAAe;IACb,IAAIK,cAAc,GAAGF,SAAS,IAAIA,SAAS,CAACG,eAAV,EAAlC;;IACA,IAAID,cAAJ,EAAoB;MAClB;MACA1F,mBAAmB,CAACmF,GAAD,EAAMO,cAAN,EAAsBL,SAAtB,EAAiCC,GAAjC,EAAsCC,GAAtC,CAAnB;IACD;EACF,CAND,MAMO;IACLJ,GAAG,CAAC,CAAD,CAAH,GAASG,GAAT;IACAH,GAAG,CAAC,CAAD,CAAH,GAASI,GAAT,CAFK,CAGL;IACA;IACA;;IACA,IAAIK,kBAAkB,GAAGJ,SAAS,IAAIA,SAAS,CAACK,qBAAV,EAAtC;;IACA,IAAID,kBAAJ,EAAwB;MACtBT,GAAG,CAAC,CAAD,CAAH,IAAUS,kBAAkB,CAACE,UAA7B;MACAX,GAAG,CAAC,CAAD,CAAH,IAAUS,kBAAkB,CAACG,SAA7B;IACD;EACF;;EACDZ,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAAH,GAASC,EAAE,CAACY,QAAH,EAAlB;EACAb,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAAH,GAASC,EAAE,CAACa,SAAH,EAAlB;AACD;;AACD,IAAIC,kBAAkB;AAAG;AAAa,YAAY;EAChD,SAASA,kBAAT,CAA4BC,GAA5B,EAAiCC,GAAjC,EAAsC;IACpC,KAAKC,KAAL,GAAa,KAAb;IACA,KAAKC,WAAL,GAAmB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAnB;IACA,KAAKC,UAAL,GAAkB,IAAlB;IACA,KAAKC,kBAAL,GAA0B,KAA1B;IACA,KAAKC,UAAL,GAAkB,IAAlB;IACA,KAAKC,SAAL,GAAiB,IAAjB;;IACA,IAAIzG,GAAG,CAAC0G,GAAR,EAAa;MACX,OAAO,IAAP;IACD;;IACD,IAAIC,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAT,CAVoC,CAWpC;;IACAF,EAAE,CAACG,aAAH,GAAmB,IAAnB;IACA,KAAKH,EAAL,GAAUA,EAAV;IACA,IAAIxB,EAAE,GAAG,KAAK4B,GAAL,GAAWb,GAAG,CAACc,KAAJ,EAApB;IACA,IAAIC,QAAQ,GAAGd,GAAG,CAACc,QAAnB;IACA,IAAI7B,SAAS,GAAG6B,QAAQ,KAAK1H,QAAQ,CAAC0H,QAAD,CAAR,GAAqBL,QAAQ,CAACM,aAAT,CAAuBD,QAAvB,CAArB,GAAwDpH,KAAK,CAACoH,QAAD,CAAL,GAAkBA,QAAlB,GAA6BtH,UAAU,CAACsH,QAAD,CAAV,IAAwBA,QAAQ,CAACf,GAAG,CAACiB,MAAJ,EAAD,CAA1H,CAAxB;IACAlC,cAAc,CAAC,KAAKoB,WAAN,EAAmBlB,EAAnB,EAAuBC,SAAvB,EAAkCc,GAAG,CAACH,QAAJ,KAAiB,CAAnD,EAAsDG,GAAG,CAACF,SAAJ,KAAkB,CAAxE,CAAd;IACA,CAACZ,SAAS,IAAIc,GAAG,CAACiB,MAAJ,EAAd,EAA4BC,WAA5B,CAAwCT,EAAxC;IACA,KAAKU,IAAL,GAAYnB,GAAZ;IACA,KAAKoB,UAAL,GAAkBlC,SAAlB,CApBoC,CAqBpC;IACA;IACA;;IACA,IAAImC,IAAI,GAAG,IAAX;;IACAZ,EAAE,CAACa,YAAH,GAAkB,YAAY;MAC5B;MACA,IAAID,IAAI,CAACjB,UAAT,EAAqB;QACnBmB,YAAY,CAACF,IAAI,CAACG,YAAN,CAAZ;QACAH,IAAI,CAACnB,KAAL,GAAa,IAAb;MACD;;MACDmB,IAAI,CAACI,UAAL,GAAkB,IAAlB;IACD,CAPD;;IAQAhB,EAAE,CAACiB,WAAH,GAAiB,UAAUC,CAAV,EAAa;MAC5BA,CAAC,GAAGA,CAAC,IAAIC,MAAM,CAACC,KAAhB;;MACA,IAAI,CAACR,IAAI,CAACjB,UAAV,EAAsB;QACpB;QACA;QACA;QACA;QACA;QACA;QACA,IAAI0B,OAAO,GAAG7C,EAAE,CAAC6C,OAAjB;QACA,IAAIvC,cAAc,GAAGN,EAAE,CAACK,OAAH,CAAWE,eAAX,EAArB;QACA5F,cAAc,CAAC2F,cAAD,EAAiBoC,CAAjB,EAAoB,IAApB,CAAd;QACAG,OAAO,CAACC,QAAR,CAAiB,WAAjB,EAA8BJ,CAA9B;MACD;IACF,CAdD;;IAeAlB,EAAE,CAACuB,YAAH,GAAkB,YAAY;MAC5B;MACAX,IAAI,CAACI,UAAL,GAAkB,KAAlB;;MACA,IAAIJ,IAAI,CAACjB,UAAT,EAAqB;QACnB,IAAIiB,IAAI,CAACnB,KAAT,EAAgB;UACdmB,IAAI,CAACY,SAAL,CAAeZ,IAAI,CAACa,UAApB;QACD;MACF;IACF,CARD;EASD;EACD;AACF;AACA;;;EACEnC,kBAAkB,CAACoC,SAAnB,CAA6BC,MAA7B,GAAsC,UAAUrH,YAAV,EAAwB;IAC5D;IACA;IACA,IAAI,CAAC,KAAKqG,UAAV,EAAsB;MACpB,IAAIlC,SAAS,GAAG,KAAKiC,IAAL,CAAUF,MAAV,EAAhB;;MACA,IAAIoB,QAAQ,GAAGjI,gBAAgB,CAAC8E,SAAD,EAAY,UAAZ,CAA/B;MACA,IAAIoD,QAAQ,GAAGpD,SAAS,CAACqD,KAAzB;;MACA,IAAID,QAAQ,CAACD,QAAT,KAAsB,UAAtB,IAAoCA,QAAQ,KAAK,UAArD,EAAiE;QAC/DC,QAAQ,CAACD,QAAT,GAAoB,UAApB;MACD;IACF,CAV2D,CAW5D;;;IACA,IAAIG,iBAAiB,GAAGzH,YAAY,CAACI,GAAb,CAAiB,mBAAjB,CAAxB;IACAqH,iBAAiB,IAAI,KAAKC,cAAL,EAArB,CAb4D,CAc5D;;IACA,KAAKpC,kBAAL,GAA0BmC,iBAA1B,CAf4D,CAgB5D;;IACA,KAAK/B,EAAL,CAAQiC,SAAR,GAAoB3H,YAAY,CAACI,GAAb,CAAiB,WAAjB,KAAiC,EAArD,CAjB4D,CAkB5D;IACA;IACA;EACD,CArBD;;EAuBA4E,kBAAkB,CAACoC,SAAnB,CAA6BQ,IAA7B,GAAoC,UAAU5H,YAAV,EAAwB6H,cAAxB,EAAwC;IAC1ErB,YAAY,CAAC,KAAKC,YAAN,CAAZ;IACAD,YAAY,CAAC,KAAKsB,gBAAN,CAAZ;IACA,IAAIpC,EAAE,GAAG,KAAKA,EAAd;IACA,IAAI8B,KAAK,GAAG9B,EAAE,CAAC8B,KAAf;IACA,IAAIO,UAAU,GAAG,KAAK3C,WAAtB;;IACA,IAAI,CAACM,EAAE,CAACsC,SAAR,EAAmB;MACjBR,KAAK,CAACS,OAAN,GAAgB,MAAhB;IACD,CAFD,MAEO;MACLT,KAAK,CAAC5E,OAAN,GAAgBjD,QAAQ,GAAG6D,eAAe,CAACxD,YAAD,EAAe,CAAC,KAAKuF,UAArB,EAAiC,KAAKC,SAAtC,CAA1B,CAChB;MADgB,EAEdvD,iBAAiB,CAAC8F,UAAU,CAAC,CAAD,CAAX,EAAgBA,UAAU,CAAC,CAAD,CAA1B,EAA+B,IAA/B,CAFH,IAE2C,kBAAkB/I,oBAAoB,CAAC6I,cAAD,CAAtC,GAAyD,GAFpG,KAE4G7H,YAAY,CAACI,GAAb,CAAiB,cAAjB,KAAoC,EAFhJ,EAGhB;MACA;MACA;MACA;MACA;MAPgB,GAQb,sBAAsB,KAAKiF,UAAL,GAAkB,MAAlB,GAA2B,MAAjD,CARa,CAAhB;IASD;;IACD,KAAKF,KAAL,GAAa,IAAb;IACA,KAAKI,UAAL,GAAkB,KAAlB;IACA,KAAKC,SAAL,GAAiB,KAAjB;EACD,CAtBD;;EAuBAR,kBAAkB,CAACoC,SAAnB,CAA6Bc,UAA7B,GAA0C,UAAUC,OAAV,EAAmBC,OAAnB,EAA4BpI,YAA5B,EAA0CC,WAA1C,EAAuDC,aAAvD,EAAsE;IAC9G,IAAIwF,EAAE,GAAG,KAAKA,EAAd;;IACA,IAAIyC,OAAO,IAAI,IAAf,EAAqB;MACnBzC,EAAE,CAACsC,SAAH,GAAe,EAAf;MACA;IACD;;IACD,IAAIK,KAAK,GAAG,EAAZ;;IACA,IAAI/J,QAAQ,CAAC4B,aAAD,CAAR,IAA2BF,YAAY,CAACI,GAAb,CAAiB,SAAjB,MAAgC,MAA3D,IAAqE,CAACjB,oBAAoB,CAACa,YAAD,CAA9F,EAA8G;MAC5GqI,KAAK,GAAGtI,aAAa,CAACC,YAAD,EAAeC,WAAf,EAA4BC,aAA5B,CAArB;IACD;;IACD,IAAI5B,QAAQ,CAAC6J,OAAD,CAAZ,EAAuB;MACrBzC,EAAE,CAACsC,SAAH,GAAeG,OAAO,GAAGE,KAAzB;IACD,CAFD,MAEO,IAAIF,OAAJ,EAAa;MAClB;MACAzC,EAAE,CAACsC,SAAH,GAAe,EAAf;;MACA,IAAI,CAACrJ,OAAO,CAACwJ,OAAD,CAAZ,EAAuB;QACrBA,OAAO,GAAG,CAACA,OAAD,CAAV;MACD;;MACD,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,OAAO,CAACI,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;QACvC,IAAI1J,KAAK,CAACuJ,OAAO,CAACG,CAAD,CAAR,CAAL,IAAqBH,OAAO,CAACG,CAAD,CAAP,CAAWE,UAAX,KAA0B9C,EAAnD,EAAuD;UACrDA,EAAE,CAACS,WAAH,CAAegC,OAAO,CAACG,CAAD,CAAtB;QACD;MACF,CAViB,CAWlB;;;MACA,IAAID,KAAK,IAAI3C,EAAE,CAAC+C,UAAH,CAAcF,MAA3B,EAAmC;QACjC;QACA;QACA,IAAIG,OAAO,GAAG/C,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;QACA8C,OAAO,CAACV,SAAR,GAAoBK,KAApB;QACA3C,EAAE,CAACS,WAAH,CAAeuC,OAAf;MACD;IACF;EACF,CAhCD;;EAiCA1D,kBAAkB,CAACoC,SAAnB,CAA6BuB,YAA7B,GAA4C,UAAUC,SAAV,EAAqB;IAC/D,KAAKvD,UAAL,GAAkBuD,SAAlB;EACD,CAFD;;EAGA5D,kBAAkB,CAACoC,SAAnB,CAA6ByB,OAA7B,GAAuC,YAAY;IACjD,IAAInD,EAAE,GAAG,KAAKA,EAAd;IACA,OAAO,CAACA,EAAE,CAACoD,WAAJ,EAAiBpD,EAAE,CAACqD,YAApB,CAAP;EACD,CAHD;;EAIA/D,kBAAkB,CAACoC,SAAnB,CAA6B4B,MAA7B,GAAsC,UAAU5E,GAAV,EAAeC,GAAf,EAAoB;IACxD,IAAI0D,UAAU,GAAG,KAAK3C,WAAtB;IACApB,cAAc,CAAC+D,UAAD,EAAa,KAAKjC,GAAlB,EAAuB,KAAKO,UAA5B,EAAwCjC,GAAxC,EAA6CC,GAA7C,CAAd;;IACA,IAAI0D,UAAU,CAAC,CAAD,CAAV,IAAiB,IAAjB,IAAyBA,UAAU,CAAC,CAAD,CAAV,IAAiB,IAA9C,EAAoD;MAClD,IAAIkB,OAAO,GAAG,KAAKvD,EAAL,CAAQ8B,KAAtB;MACA,IAAI0B,UAAU,GAAGjH,iBAAiB,CAAC8F,UAAU,CAAC,CAAD,CAAX,EAAgBA,UAAU,CAAC,CAAD,CAA1B,CAAlC;MACAvJ,IAAI,CAAC0K,UAAD,EAAa,UAAUC,SAAV,EAAqB;QACpCF,OAAO,CAACE,SAAS,CAAC,CAAD,CAAV,CAAP,GAAwBA,SAAS,CAAC,CAAD,CAAjC;MACD,CAFG,CAAJ;IAGD;EACF,CAVD;EAWA;AACF;AACA;AACA;;;EACEnE,kBAAkB,CAACoC,SAAnB,CAA6BM,cAA7B,GAA8C,YAAY;IACxD;IACA,IAAI0B,MAAM,GAAG,KAAKhE,WAAL,CAAiB,CAAjB,CAAb,CAFwD,CAGxD;;IACA,IAAIiE,MAAM,GAAG,KAAKjE,WAAL,CAAiB,CAAjB,CAAb;IACA,KAAK4D,MAAL,CAAYI,MAAM,GAAG,KAAKtD,GAAL,CAAShB,QAAT,EAArB,EAA0CuE,MAAM,GAAG,KAAKvD,GAAL,CAASf,SAAT,EAAnD;EACD,CAND;;EAOAC,kBAAkB,CAACoC,SAAnB,CAA6BkC,IAA7B,GAAoC,YAAY;IAC9C,IAAIC,KAAK,GAAG,IAAZ;;IACA,IAAI/B,KAAK,GAAG,KAAK9B,EAAL,CAAQ8B,KAApB;IACAA,KAAK,CAACgC,UAAN,GAAmB,QAAnB;IACAhC,KAAK,CAACiC,OAAN,GAAgB,GAAhB;IACA1K,GAAG,CAACa,oBAAJ,KAA6B4H,KAAK,CAACkC,UAAN,GAAmB,EAAhD;IACA,KAAKvE,KAAL,GAAa,KAAb;IACA,KAAK2C,gBAAL,GAAwB6B,UAAU,CAAC,YAAY;MAC7C,OAAOJ,KAAK,CAAC/D,SAAN,GAAkB,IAAzB;IACD,CAFiC,EAE/B,GAF+B,CAAlC;EAGD,CAVD;;EAWAR,kBAAkB,CAACoC,SAAnB,CAA6BF,SAA7B,GAAyC,UAAU0C,IAAV,EAAgB;IACvD,IAAI,KAAKzE,KAAL,IAAc,EAAE,KAAKuB,UAAL,IAAmB,KAAKrB,UAA1B,CAAd,IAAuD,CAAC,KAAKC,kBAAjE,EAAqF;MACnF,IAAIsE,IAAJ,EAAU;QACR,KAAKzC,UAAL,GAAkByC,IAAlB,CADQ,CAER;;QACA,KAAKzE,KAAL,GAAa,KAAb;QACA,KAAKsB,YAAL,GAAoBkD,UAAU,CAAClL,IAAI,CAAC,KAAK6K,IAAN,EAAY,IAAZ,CAAL,EAAwBM,IAAxB,CAA9B;MACD,CALD,MAKO;QACL,KAAKN,IAAL;MACD;IACF;EACF,CAXD;;EAYAtE,kBAAkB,CAACoC,SAAnB,CAA6ByC,MAA7B,GAAsC,YAAY;IAChD,OAAO,KAAK1E,KAAZ;EACD,CAFD;;EAGAH,kBAAkB,CAACoC,SAAnB,CAA6B0C,OAA7B,GAAuC,YAAY;IACjDtD,YAAY,CAAC,KAAKC,YAAN,CAAZ;IACAD,YAAY,CAAC,KAAKsB,gBAAN,CAAZ;IACA,IAAIU,UAAU,GAAG,KAAK9C,EAAL,CAAQ8C,UAAzB;IACAA,UAAU,IAAIA,UAAU,CAACuB,WAAX,CAAuB,KAAKrE,EAA5B,CAAd;IACA,KAAKA,EAAL,GAAU,KAAKW,UAAL,GAAkB,IAA5B;EACD,CAND;;EAOA,OAAOrB,kBAAP;AACD,CA5MqC,EAAtC;;AA6MA,eAAeA,kBAAf"},"metadata":{},"sourceType":"module"}